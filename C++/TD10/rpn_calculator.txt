    int getPriority(const Token& op);
    double eval(const Expression& postfix_expression);
    std::string toString(const Expression& expression);
    bool isWellParenthesized(const Expression& expression);
    
    
    #include <stack>
#include <cmath>
#include <sstream>










    
    int getPriority(const Token& op) {
        if (op == "+" || op == "-") {
            return 1;
        } else if (op == "*" || op == "/") {
            return 2;
        }
        return 0;
    }

    
    
    double eval(const Expression& postfix_expression) {
        std::stack<double> stack;
        
        for (const Token& token : postfix_expression) {
            if (isNumeric(token)) {
                stack.push(std::stod(token));
            }
            else if (isValidOperator(token)) {
                if (stack.size() < 2) {
                    throw std::runtime_error("/!\\ Error - you need at least 2 operands to apply operator [" + token + "]");
                }
                
                double b = stack.top(); stack.pop();
                double a = stack.top(); stack.pop();
                
                if (token == "+") {
                    stack.push(a + b);
                } else if (token == "-") {
                    stack.push(a - b);
                } else if (token == "*") {
                    stack.push(a * b);
                } else if (token == "/") {
                    if (b == 0) {
                        throw std::runtime_error("/!\\ Error - Division by zero, we go back");
                    }
                    stack.push(a / b);
                }
            }
            else {
                throw std::runtime_error("/!\\ Error - unknow symbol [" + token + "]");
            }
        }
        
        if (stack.size() != 1) {
            throw std::runtime_error("/!\\ Error - invalid expression");
        }
        
        return stack.top();
    }
    
    std::string toString(const Expression& expression) {
        std::string result;
        for (size_t i = 0; i < expression.size(); ++i) {
            if (i > 0) result += " ";
            result += expression[i];
        }
        return result;
    }
    
    bool isWellParenthesized(const Expression& expression) {
        int paren_count = 0;
        
        for (const Token& token : expression) {
            if (token == "(") {
                paren_count++;
            } else if (token == ")") {
                paren_count--;
                if (paren_count < 0) {
                    return false; // More closing than opening
                }
            }
        }
        
        return paren_count == 0;
    }
